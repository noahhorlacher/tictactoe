let s=0,g=[],q=a=>document.querySelector(a),cv=(a,b)=>q(`cell[x='${a}'][y='${b}']`).getAttribute("v");for(let a=0;9>a;g[g.length+a-++a].onclick=a=>2>s&&0==a.target.getAttribute("v")?m(a.target):0)g.push(q(`cell[x='${a%3}'][y='${Math.floor(a/3)}']`));let m=a=>{a.setAttribute("v",s+1),s=(s+1)%2+(3==[0,1,2].filter(b=>cv(b,a.getAttribute("y"))==s+1).length||3==[0,1,2].filter(b=>cv(a.getAttribute("x"),b)==s+1).length||3==[0,1,2].filter(a=>cv(a,a)==s+1).length||cv(0,2)==s+1&&cv(1,1)==s+1&&cv(2,0)==s+1?2:0==document.querySelectorAll(`cell[v='0']`).length?4:0),q("h1").innerText=2>s?`Player ${s+1}'s turn`:4>s?`Player ${(s+1)%2+1} won`:`Draw`};q("btn").onclick=()=>q("h1").innerText=g.forEach(a=>a.setAttribute("v",0))||`Player ${(s=0)+1}'s turn`;